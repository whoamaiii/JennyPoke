/*
  HOLOGRAPHIC POKEMON CARD EFFECTS
  Simplified version for demo
*/

:root {
  /* Card dimensions */
  --card-aspect: 0.718;
  --card-radius: 4.55% / 3.5%;

  /* Rainbow gradient colors */
  --red: #f80e35;
  --yellow: #eedf10;
  --green: #21e985;
  --blue: #0dbde9;
  --violet: #c929f1;

  /* Dynamic variables (updated by JS) */
  --pointer-x: 50%;
  --pointer-y: 50%;
  --pointer-from-center: 0;
  --card-opacity: 0;
  --rotate-x: 0deg;
  --rotate-y: 0deg;
  --background-x: 50%;
  --background-y: 50%;
  --card-scale: 1;
}

/* Type-based glow colors */
.holo-card.water       { --card-glow: hsl(192, 97%, 60%); }
.holo-card.fire        { --card-glow: hsl(9, 81%, 59%); }
.holo-card.grass       { --card-glow: hsl(96, 81%, 65%); }
.holo-card.lightning   { --card-glow: hsl(54, 87%, 63%); }
.holo-card.psychic     { --card-glow: hsl(281, 62%, 58%); }
.holo-card.fighting    { --card-glow: hsl(14, 100%, 62%); }
.holo-card.darkness    { --card-glow: hsl(0, 0%, 35%); }
.holo-card.metal       { --card-glow: hsl(210, 20%, 60%); }
.holo-card.dragon      { --card-glow: hsl(280, 77%, 60%); }
.holo-card.fairy       { --card-glow: hsl(328, 100%, 75%); }
.holo-card.colorless   { --card-glow: hsl(0, 0%, 90%); }

/* Base card structure */
.holo-card {
  position: relative;
  transform: translate3d(0, 0, 0.01px);
  transform-style: preserve-3d;
  will-change: transform;
  perspective: 1000px;
  cursor: pointer;
  transition: transform 0.1s ease-out;
}

/* Card wrapper for translation */
.holo-card__translater {
  transform: translate3d(0, 0, 0.1px) scale(var(--card-scale));
  will-change: transform;
}

/* Card rotator for 3D effects */
.holo-card__rotator {
  transform: rotateY(var(--rotate-y)) rotateX(var(--rotate-x));
  transform-style: preserve-3d;
  will-change: transform;
}

/* Card front face */
.holo-card__front {
  position: relative;
  border-radius: var(--card-radius);
  overflow: hidden;
  transform: translateZ(0.1px);
  will-change: transform;
}

/* Card image */
.holo-card__front img {
  display: block;
  width: 100%;
  height: auto;
  user-select: none;
  -webkit-user-drag: none;
}

/* Holographic shine layer */
.holo-card__shine {
  position: absolute;
  inset: 0;
  z-index: 1;
  opacity: var(--card-opacity);

  /* Rainbow gradient that moves with cursor */
  background-image: repeating-linear-gradient(
    110deg,
    var(--violet) 0%,
    var(--violet) 2%,
    var(--blue) 12%,
    var(--green) 22%,
    var(--yellow) 32%,
    var(--red) 42%,
    var(--violet) 52%,
    var(--blue) 62%,
    var(--green) 72%,
    var(--yellow) 82%,
    var(--red) 92%,
    var(--violet) 100%
  );

  background-position:
    calc(((50% - var(--background-x)) * 2.6) + 50%)
    calc(((50% - var(--background-y)) * 3.5) + 50%);
  background-size: 400% 400%;

  /* Blend mode creates the holographic effect */
  mix-blend-mode: color-dodge;
  filter: brightness(1.1) contrast(1.1) saturate(1.2);

  will-change: background-position, opacity;
  pointer-events: none;
}

/* Shine gradient mask */
.holo-card__shine::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    125deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  mix-blend-mode: overlay;
}

/* Dynamic glare following cursor */
.holo-card__glare {
  position: absolute;
  inset: 0;
  z-index: 2;
  opacity: calc(var(--card-opacity) * 0.8);

  background-image: radial-gradient(
    farthest-corner circle at var(--pointer-x) var(--pointer-y),
    hsla(0, 0%, 100%, 0.8) 10%,
    hsla(0, 0%, 100%, 0.5) 20%,
    hsla(0, 0%, 0%, 0.3) 90%
  );

  mix-blend-mode: overlay;
  will-change: background-image, opacity;
  pointer-events: none;
}

/* Active state - card is being interacted with */
.holo-card.interacting .holo-card__shine,
.holo-card.interacting .holo-card__glare {
  opacity: 1;
}

/* Cosmos/Galaxy effect for ultra-rare cards */
.holo-card[data-rarity*="cosmos"] .holo-card__shine {
  background-image:
    repeating-linear-gradient(
      110deg,
      transparent 0%,
      rgba(33, 233, 133, 0.3) 10%,
      rgba(14, 189, 233, 0.3) 20%,
      rgba(201, 41, 241, 0.3) 30%,
      transparent 40%
    );
  background-size: 600% 600%;
  mix-blend-mode: screen;
}

/* Rainbow secret rare effect */
.holo-card[data-rarity*="rainbow"] .holo-card__shine {
  background-image:
    repeating-linear-gradient(
      90deg,
      var(--red) 0%,
      var(--yellow) 20%,
      var(--green) 40%,
      var(--blue) 60%,
      var(--violet) 80%,
      var(--red) 100%
    );
  background-size: 300% 300%;
  filter: brightness(1.3) contrast(1.2) saturate(1.5);
  mix-blend-mode: hard-light;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .holo-card,
  .holo-card * {
    animation: none !important;
    transition: none !important;
  }

  .holo-card {
    transform: none !important;
  }

  .holo-card__rotator {
    transform: none !important;
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .holo-card__shine,
  .holo-card__glare {
    will-change: opacity;
  }
}
